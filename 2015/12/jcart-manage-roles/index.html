<!DOCTYPE html>
<html>
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>SivaLabs - JCart: Manage Roles</title>

    <link rel='stylesheet' id='sparkling-bootstrap-css'
          href="/assets/css/bootstrap.min.css" type='text/css'
          media='all'/>

    <link rel='stylesheet' id='sparkling-icons-css'
          href="/assets/css/font-awesome.min.css"
          type='text/css' media='all'/>

    <link rel='stylesheet' id='sparkling-fonts-css'
          href='//fonts.googleapis.com/css?family=Open+Sans%3A400italic%2C400%2C600%2C700%7CRoboto+Slab%3A400%2C300%2C700&#038;ver=4.8.3'
          type='text/css' media='all'/>

    <link rel='stylesheet' id='sparkling-style-css'
          href="/assets/css/style.css" type='text/css' media='all'/>

    <link rel='stylesheet' id='socicon-css'
          href="/assets/js/vendor/social-icons-widget-by-wpzoom/assets/css/socicon.css"
          type='text/css' media='all'/>

    <link rel="stylesheet" href="/assets/css/social-logos/social-logos.css"
            type="text/css" media="all">

    <link rel="stylesheet" href="/assets/css/jetpack.css"
            type="text/css" media="all">

    <script type='text/javascript' src="/assets/js/vendor/jquery-1.12.4.js"></script>

    <script type='text/javascript'
            src="/assets/js/vendor/modernizr.min.js"></script>

    <script type='text/javascript'
            src="/assets/js/vendor/bootstrap.min.js"></script>

    <script type='text/javascript'
            src="/assets/js/functions.min.js"></script>

    <link rel="shortcut icon" href="/favicon.png" type="image/x-icon">

    
    
    
    <div class="analytics">
        
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-71296890-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>

    </div>
    

</head>

</head>

<body class="home blog">
<div id="page" class="hfeed site">
    <header id="masthead" class="site-header" role="banner">
    <nav class="navbar navbar-default " role="navigation">
        <div class="container">
            <div class="row">
                <div class="site-navigation-inner col-sm-12">
                    <div class="navbar-header">
                        <button type="button" class="btn navbar-toggle" data-toggle="collapse"
                                data-target=".navbar-ex1-collapse">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>

                        <div id="logo">
                            <h1 class="site-name">
                                <a class="navbar-brand" href="/" title="SivaLabs" rel="home">SivaLabs</a>
                            </h1>
                        </div>
                    </div>
                    <div class="collapse navbar-collapse navbar-ex1-collapse">
                        <ul id="menu-home" class="nav navbar-nav">

                            <li class="menu-item menu-item-type-post_type menu-item-object-page"><a
                                    href="/tags/java">Java</a></li>
                            <li class="menu-item menu-item-type-post_type menu-item-object-page">
                                <a href="/tags/spring">Spring </a>
                            </li>
                            <li class="menu-item menu-item-type-post_type menu-item-object-page"><a
                                    href="/tags/javaee">Java EE</a></li>
                            <li class="menu-item menu-item-type-post_type menu-item-object-page"><a
                                    href="/videos">Videos</a></li>
                            <li class="menu-item menu-item-type-post_type menu-item-object-page"><a
                                    href="/mybooks">My Books</a></li>
                            <li class="menu-item menu-item-type-post_type menu-item-object-page"><a
                                    href="/contact">Contact</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </nav>
</header>

    <div id="content" class="site-content">
        <div class="container main-content-area">
            <div class="row side-pull-left">
                <div class="main-content-inner col-sm-12 col-md-8">

                    <div id="primary" class="content-area">
                        

<article class="post type-post status-publish format-standard hentry">
    <div class="post-inner-content">
        <header class="entry-header page-header">
            <h1 class="entry-title ">JCart: Manage Roles</h1>
            <div class="entry-meta">
    <span>
        <i class="fa fa-user"></i>
        <span class="author vcard">Siva</span>
    </span>
    <span class="posted-on">
        <i class="fa fa-calendar"></i>
        <time class="entry-date published"
              datetime="2015-12-19T03:16:38">
            December 19, 2015
        </time>
    </span>
    
    
    
    <span>
        <i class="fa fa-folder-open-o"></i>
        
        <a class="article-category-link" href="/categories/java/">Java</a>
        
        
    </span>
    
    

    
    
    
    <span class="tagcloud" style="display: inline">
        <i class="fa fa-tags"></i>
        
        <a class="tag-cloud-link widget__link widget__link--taglist" href="/tags/jcart/">jcart</a>
        
        
    </span>
    
    

</div>

        </header>
        <div class="entry-content">
            

<p>In our previous post <strong>Manage Privileges – List all privileges</strong> we have implemented the functionality to show list of permissions. In this post we will implement Role management such as listing all Roles, creating new Role, editing Role permissions etc.</p>

<p>Basically a Role is nothing a but group of Permissions assigned so that giving access to a set of action to user will become easy by assigning Roles.</p>

<p>In this post we are going to see lot of code snippets, so I would suggest to clone the repo <a href="https://github.com/sivaprasadreddy/jcart" target="_blank"><a href="https://github.com/sivaprasadreddy/jcart">https://github.com/sivaprasadreddy/jcart</a></a>.</p>

<p>We already have <strong>Role</strong> JPA entity created and some sample data is already inserted using data.sql script.</p>

<h2 id="list-all-roles">List all Roles</h2>

<p>First let us create a Spring Data JPA repository for Role entity.</p>

<pre class="brush: java">public interface RoleRepository extends JpaRepository&lt;Role, Integer&gt;
{
    Role findByName(String name);
}
</pre>

<p>In <strong>SecurityService</strong> implement a method to return all the permissions.</p>

<pre class="brush: java">@Service
@Transactional
public class SecurityService
{
    @Autowired UserRepository userRepository;
    @Autowired PermissionRepository permissionRepository;
    @Autowired RoleRepository roleRepository;
    ...
    ...
        
    public List&lt;Role&gt; getAllRoles() {
        return roleRepository.findAll();
    }

}
</pre>

<p>Create a SpringMVC controller to handle all Role related actions.</p>

<p>This action should be available to only users who have &#8220;<strong>ROLE_MANAGE_ROLES</strong>&#8220;, so let us add @Secured annotation to <strong>RoleController</strong>.</p>

<pre class="brush: java">@Controller
@Secured(SecurityUtil.MANAGE_ROLES)
public class RoleController extends JCartAdminBaseController
{
    private static final String viewPrefix = "roles/";
    
    @Override
    protected String getHeaderTitle()
    {
        return "Manage Roles";
    }
        
    @RequestMapping(value="/roles", method=RequestMethod.GET)
    public String listRoles(Model model) {
        List&lt;Role&gt; list = securityService.getAllRoles();
        model.addAttribute("roles",list);
        return viewPrefix+"roles";
    }
    
}
</pre>

<p>Create thymeleaf view <strong>jcart-admin/src/main/resources/templates/roles/roles.html</strong>.</p>

<pre class="brush: html">&lt;!DOCTYPE html&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:th="http://www.thymeleaf.org"
    xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"
    layout:decorator="layout/mainLayout"&gt;

&lt;head&gt;
&lt;title&gt;Roles&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

    &lt;div layout:fragment="content"&gt;
        &lt;div class="row"&gt;
            &lt;div class="col-md-12"&gt;
                &lt;div class="box"&gt;
                    &lt;div class="box-header"&gt;
                        &lt;h3 class="box-title"&gt;List of Roles&lt;/h3&gt;
                        &lt;div class="box-tools"&gt;
                            &lt;div class="input-group" style="width: 150px;"&gt;
                                &lt;a class="btn btn-sm btn-default" th:href="@{/roles/new}"&gt;&lt;i
                                    class="fa fa-plus-circle"&gt;&lt;/i&gt; New Role&lt;/a&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                    &lt;div class="box-body table-responsive no-padding"&gt;
                        &lt;table class="table table-hover"&gt;
                            &lt;tr&gt;
                                &lt;th style="width: 10px"&gt;#&lt;/th&gt;
                                &lt;th&gt;Name&lt;/th&gt;
                                &lt;th&gt;Description&lt;/th&gt;
                                &lt;th&gt;Edit&lt;/th&gt;

                            &lt;/tr&gt;
                            &lt;tr th:each="role,iterStat : ${roles}"&gt;
                                &lt;td&gt;&lt;a th:href="@{/roles/{id}(id=${role.id})}"&gt;&lt;span
                                        th:text="${iterStat.count}"&gt;1&lt;/span&gt;&lt;/a&gt;&lt;/td&gt;
                                &lt;td th:text="${role.name}"&gt;Role Name&lt;/td&gt;
                                &lt;td th:text="${role.description}"&gt;Role Description&lt;/td&gt;
                                &lt;td&gt;&lt;a th:href="@{/roles/{id}(id=${role.id})}"
                                        class="btn btn-sm btn-default"&gt;
                                        &lt;i class="fa fa-edit"&gt;&lt;/i&gt;Edit
                                    &lt;/a&gt;
                                &lt;/td&gt;
                            &lt;/tr&gt;

                        &lt;/table&gt;
                    &lt;/div&gt;

                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;

    &lt;/div&gt;
    
&lt;/body&gt;
&lt;/html&gt;
</pre>

<p>Observe that though we have not yet implemented functionality for adding new Role or view/edit Role we have added &#8220;New Role&#8221; button and links to view/edit Role info which we are going to implement next.</p>

<p>Now run <strong>JCartAdminApplication.java</strong> and login and go click on Roles menu in Left side navigation and you should be able to see list of all Roles.</p>

<h2 id="create-new-role">Create New Role</h2>

<p>In our List Roles screen we have added a button &#8220;New Role&#8221; which will take you to &#8220;roles/new&#8221; URL. Let us implement SpringMVC controller methods to handle showing new role form and role creation POST method.</p>

<p>While showing New Role form we should also show list of permission that we would like to add to the newly creating Role.</p>

<p>Also we want to validate the New Role form to check for any missing mandatory details.</p>

<p>First let us implement <strong>RoleValidator</strong> <strong>jcart-admin/src/main/java/com/sivalabs/jcart/admin/web/validators/RoleValidator.java</strong> as follows:</p>

<pre class="brush: java">package com.sivalabs.jcart.admin.web.validators;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.context.MessageSource;
import org.springframework.stereotype.Component;
import org.springframework.validation.Errors;
import org.springframework.validation.Validator;

import com.sivalabs.jcart.entities.Role;
import com.sivalabs.jcart.security.SecurityService;


@Component
public class RoleValidator implements Validator
{
    @Autowired protected MessageSource messageSource;
    @Autowired protected SecurityService securityService;
    
    @Override
    public boolean supports(Class&lt;?&gt; clazz)
    {
        return Role.class.isAssignableFrom(clazz);
    }
    
    @Override
    public void validate(Object target, Errors errors)
    {
        Role role = (Role) target;
        String name = role.getName();
        Role RoleByName = securityService.getRoleByName(name);
        if(RoleByName != null){
            errors.rejectValue("name", "error.exists",
                                new Object[]{name}, 
                                "Role "+name+" already exists");
        }
    }   
}
</pre>

<p>One thing to notice here is we already have <strong>BeanValidation</strong> annotation <strong>@NotEmpty</strong> on <strong>&#8220;name&#8221;</strong> property which SpringMVC automatically checks for. But we also need to check whether the new is already in use or not by talking to database.</p>

<p>Also observe that we are using message keys from ResourceBundle <strong>messages.properties</strong> to have internationalization.</p>

<p>Add the following properties to <strong>messages.properties</strong></p>

<pre class="brush: java">error.required={0} is required
error.invalid={0} is invalid
error.exists={0} already exists
</pre>

<p>Now we need to implement <strong>getRoleByName()</strong> and <strong>createRole()</strong> methods in our <strong>SecurityService</strong>.</p>

<pre class="brush: java">@Service
@Transactional
public class SecurityService
{
    public Role getRoleByName(String roleName)
    {
        return roleRepository.findByName(roleName);
    }
    
    public Role createRole(Role role)
    {
        Role roleByName = getRoleByName(role.getName());
        if(roleByName != null){
            throw new JCartException("Role "+role.getName()+" already exist"); //TODO; i18n
        }
        List&lt;Permission&gt; persistedPermissions = new ArrayList&lt;&gt;();
        List&lt;Permission&gt; permissions = role.getPermissions();
        if(permissions != null){
            for (Permission permission : permissions) {
                if(permission.getId() != null)
                {
                    persistedPermissions.add(permissionRepository.findOne(permission.getId()));
                }
            }
        }
        
        role.setPermissions(persistedPermissions);
        return roleRepository.save(role);
    }
    
}
</pre>

<p>I hope these 2 methods are self explanatory.</p>

<p>Now let us implement the request handler methods in <strong>RoleController</strong> as follows:</p>

<pre class="brush: java">@Controller
@Secured(SecurityUtil.MANAGE_ROLES)
public class RoleController extends JCartAdminBaseController
{
    private static final String viewPrefix = "roles/";
    
    @Autowired protected SecurityService securityService;
    @Autowired private RoleValidator roleValidator;

    ...
    ...
    
    @ModelAttribute("permissionsList")
    public List&lt;Permission&gt; permissionsList(){
        return securityService.getAllPermissions();
    }
        
    @RequestMapping(value="/roles/new", method=RequestMethod.GET)
    public String createRoleForm(Model model) {
        Role role = new Role();
        model.addAttribute("role",role);
        return viewPrefix+"create_role";
    }

    @RequestMapping(value="/roles", method=RequestMethod.POST)
    public String createRole(@Valid @ModelAttribute("role") Role role, BindingResult result, 
            Model model, RedirectAttributes redirectAttributes) {
        roleValidator.validate(role, result);
        if(result.hasErrors()){
            return viewPrefix+"create_role";
        }
        Role persistedRole = securityService.createRole(role);
        logger.debug("Created new role with id : {} and name : {}", persistedRole.getId(), persistedRole.getName());
        redirectAttributes.addFlashAttribute("info", "Role created successfully"); //TODO; i18n
        return "redirect:/roles";
    }

}
</pre>

<p>We need to add List for both create Role and update Role forms as well. So added as a separate method with <strong>@ModelAttribute</strong> instead of adding List to Model in 2 places.</p>

<blockquote>
<p>Note that BindingResult result argument should be next to @ModelAttribute property to have validation errors population working properly.</p>
</blockquote>

<p>Let us create the CreateRole thymeleaf view <strong>jcart-admin/src/main/resources/templates/roles/create_role.html</strong> as follows:</p>

<pre class="brush: html">&lt;!DOCTYPE html&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"
      layout:decorator="layout/mainLayout"&gt;
      
&lt;head&gt;
    &lt;title&gt;Roles - New&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    
    &lt;div layout:fragment="content"&gt;
        
          &lt;div class="box box-warning"&gt;
            &lt;div class="box-header with-border"&gt;
              &lt;h3 class="box-title"&gt;Create New Role&lt;/h3&gt;
            &lt;/div&gt;
            &lt;div class="box-body"&gt;
              &lt;form role="form" th:action="@{/roles}" th:object="${role}" method="post"&gt;
                &lt;p th:if="${#fields.hasErrors('global')}" th:errors="*{global}" th:class="text-red"&gt;Incorrect data&lt;/p&gt;
                
                &lt;div class="form-group" th:classappend="${#fields.hasErrors('name')}? 'has-error'"&gt;
                  &lt;label&gt;Name&lt;/label&gt;
                  &lt;input type="text" class="form-control" name="name" th:field="*{name}" placeholder="Enter Role Name"/&gt;
                  &lt;p th:if="${#fields.hasErrors('name')}" th:errors="*{name}" th:class="text-red"&gt;Incorrect data&lt;/p&gt;
                &lt;/div&gt;
                
                
                &lt;div class="form-group" th:classappend="${#fields.hasErrors('description')}? 'has-error'"&gt;
                  &lt;label&gt;Description&lt;/label&gt;
                  &lt;textarea class="form-control" rows="3" name="description" th:field="*{description}" placeholder="Enter Role Description"&gt;&lt;/textarea&gt;
                  &lt;p th:if="${#fields.hasErrors('description')}" th:errors="*{description}" th:class="text-red"&gt;Incorrect data&lt;/p&gt;
                &lt;/div&gt;
                
                &lt;div class="form-group"&gt;
                    &lt;label&gt;Permissions&lt;/label&gt;
                    &lt;div&gt;
                      &lt;p th:each="permission,rowStat : ${permissionsList}"&gt;
                        &lt;input type="checkbox" th:field="*{permissions[__${rowStat.index}__].id}" th:value="${permission.id}" /&gt;
                        &lt;label th:text="${permission.name}"&gt;Permission&lt;/label&gt;
                      &lt;/p&gt;
                    &lt;/div&gt;
                    
                &lt;/div&gt;
                
                &lt;div class="box-footer"&gt;
                    &lt;button type="submit" class="btn btn-primary"&gt;Submit&lt;/button&gt;
                &lt;/div&gt;
              &lt;/form&gt;
            &lt;/div&gt;
          &lt;/div&gt;
    &lt;/div&gt;
    
&lt;/body&gt;    
&lt;/html&gt;
</pre>

<h3 id="few-things-to-observe">Few things to observe:</h3>

<ul>
<li>We are applying css error class if a field has error using th:classappend=&#8221;${#fields.hasErrors(&#8216;name&#8217;)}? &#8216;has-error&rsquo;&#8221;</li>
<li>Showing error if a field has error using <p th:if=&#8221;${#fields.hasErrors(&#8216;name&#8217;)}&#8221; th:errors=&#8221;*{name}&#8221; th:class=&#8221;text-red&#8221;>Incorrect data</p></li>
<li>We are iterating through List<Permission> showing them as checkboxes and binding the selected checkboxes (Permission Ids) to &#8220;id&#8221; property of List<Permission> permissions property in Role as follows:</li>
</ul>

<pre class="brush: html">&lt;p th:each="permission,rowStat : ${permissionsList}"&gt;
    &lt;input type="checkbox" th:field="*{permissions[__${rowStat.index}__].id}" th:value="${permission.id}" /&gt;
    &lt;label th:text="${permission.name}"&gt;Permission&lt;/label&gt;
&lt;/p&gt;
</pre>

<p>Now you can run the application and see the New Role creation working.</p>

<h2 id="update-role">Update Role</h2>

<p>When user clicks on Edit button in List Roles screen we will take the user to Edit Role form where user can update the role description and assigned Permissions.</p>

<blockquote>
<p>Implementing the Edit Role screen is little bit tricky. We load the selected Role object which has a list of assigned Permission objects. But in screen we need to show all the available Permissions with the assigned permissions selected. As we are using indexed property binding *<strong>{permissions[__${rowStat.index}__].id}</strong> the role.permission objects index should match with the all List objects.</p>
</blockquote>

<p>Let us implement the SecurityService methods <strong>getRoleById()</strong> and <strong>updateRole()</strong> as follows:</p>

<pre class="brush: java">@Service
@Transactional
public class SecurityService
{
    public Role updateRole(Role role)
    {
        Role persistedRole = getRoleById(role.getId());
        if(persistedRole == null){
            throw new JCartException("Role "+role.getId()+" doesn't exist");
        }
        persistedRole.setDescription(role.getDescription());
        List&lt;Permission&gt; updatedPermissions = new ArrayList&lt;&gt;();
        List&lt;Permission&gt; permissions = role.getPermissions();
        if(permissions != null){
            for (Permission permission : permissions) {
                if(permission.getId() != null)
                {
                    updatedPermissions.add(permissionRepository.findOne(permission.getId()));
                }
            }
        }
        persistedRole.setPermissions(updatedPermissions);
        return roleRepository.save(persistedRole);
    }
    
    public Role getRoleById(Integer id) {
        return roleRepository.findOne(id);
    } 
}
</pre>

<p>Implement the EditRole and Update Role handler methods as follows:</p>

<pre class="brush: java">@Controller
@Secured(SecurityUtil.MANAGE_ROLES)
public class RoleController extends JCartAdminBaseController
{
    ...
    ...

    @RequestMapping(value="/roles/{id}", method=RequestMethod.GET)
    public String editRoleForm(@PathVariable Integer id, Model model) {
        Role role = securityService.getRoleById(id);
        Map&lt;Integer, Permission&gt; assignedPermissionMap = new HashMap&lt;&gt;();
        List&lt;Permission&gt; permissions = role.getPermissions();
        for (Permission permission : permissions)
        {
            assignedPermissionMap.put(permission.getId(), permission);
        }
        List&lt;Permission&gt; rolePermissions = new ArrayList&lt;&gt;();
        List&lt;Permission&gt; allPermissions = securityService.getAllPermissions();
        for (Permission permission : allPermissions)
        {
            if(assignedPermissionMap.containsKey(permission.getId())){
                rolePermissions.add(permission);
            } else {
                rolePermissions.add(null);
            }
        }
        role.setPermissions(rolePermissions);
        model.addAttribute("role",role);
        return viewPrefix+"edit_role";
    }
    
    @RequestMapping(value="/roles/{id}", method=RequestMethod.POST)
    public String updateRole(@ModelAttribute("role") Role role, BindingResult result, 
            Model model, RedirectAttributes redirectAttributes) {       
        Role persistedRole = securityService.updateRole(role);
        logger.debug("Updated role with id : {} and name : {}", persistedRole.getId(), persistedRole.getName());
        redirectAttributes.addFlashAttribute("info", "Role updated successfully");
        return "redirect:/roles";
    }
    
}
</pre>

<p>Note that we are iterating through allPermissions and preparing another list to match indexes. Looks weird to me..but&#8230;!!!.</p>

<p>Create the edit Role thymeleaf view <strong>jcart-admin/src/main/resources/templates/roles/edit_role.html</strong> as follows:</p>

<pre class="brush: html">&lt;!DOCTYPE html&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"
      layout:decorator="layout/mainLayout"&gt;
      
&lt;head&gt;
    &lt;title&gt;Roles - Edit&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
            
    &lt;div layout:fragment="content"&gt;
        
          &lt;div class="box box-warning"&gt;
            &lt;div class="box-header with-border"&gt;
              &lt;h3 class="box-title"&gt;Edit Role&lt;/h3&gt;
            &lt;/div&gt;
            &lt;div class="box-body"&gt;
              &lt;form role="form" th:action="@{/roles/{id}(id=${role.id})}" th:object="${role}" method="post"&gt;
                &lt;p th:if="${#fields.hasErrors('global')}" th:errors="*{global}" th:class="text-red"&gt;Incorrect data&lt;/p&gt;
                
                &lt;div class="form-group"&gt;
                  &lt;label&gt;Name&lt;/label&gt;
                  &lt;input type="text" class="form-control" name="name" th:field="*{name}" readonly="readonly"/&gt;
                &lt;/div&gt;
                                
                &lt;div class="form-group"&gt;
                  &lt;label&gt;Description&lt;/label&gt;
                  &lt;textarea class="form-control" rows="3" name="description" th:field="*{description}" placeholder="Enter Role Description"&gt;&lt;/textarea&gt;
                &lt;/div&gt;
                
                &lt;div class="form-group"&gt;
                    &lt;label&gt;Permissions&lt;/label&gt;
                    &lt;div&gt;
                      &lt;p th:each="permission,rowStat : ${permissionsList}"&gt;
                        &lt;input type="checkbox" th:field="*{permissions[__${rowStat.index}__].id}" th:value="${permission.id}" /&gt;
                        &lt;label th:text="${permission.name}"&gt;Permission&lt;/label&gt;
                      &lt;/p&gt;
                    &lt;/div&gt;
                    
                &lt;/div&gt;
                
                &lt;div class="box-footer"&gt;
                    &lt;button type="submit" class="btn btn-primary"&gt;Submit&lt;/button&gt;
                &lt;/div&gt;
              &lt;/form&gt;
            &lt;/div&gt;
          &lt;/div&gt;
    &lt;/div&gt;
    
&lt;/body&gt;    
&lt;/html&gt;
</pre>

<p>Now we have completed all the actions related to Role management.</p>

        </div>
        <div class="sharedaddy sd-sharing-enabled">
    <div class="robots-nocontent sd-block sd-social sd-social-icon sd-sharing">
        <h3 class="sd-title">Share this:</h3>
        <div class="sd-content">
            <ul>
                <li class="share-twitter"><a rel="nofollow" data-shared="sharing-twitter-1144" class="share-twitter sd-button share-icon no-text" href="https://twitter.com/intent/tweet?status=JCart%3a%20Manage%20Roles-https%3a%2f%2fsivalabs.github.io%2f2015%2f12%2fjcart-manage-roles%2f" target="_blank" title="Click to share on Twitter"><span></span><span class="sharing-screen-reader-text">Click to share on Twitter (Opens in new window)</span></a></li>
                <li class="share-facebook"><a rel="nofollow" data-shared="sharing-facebook-1144" class="share-facebook sd-button share-icon no-text" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fsivalabs.github.io%2f2015%2f12%2fjcart-manage-roles%2f" target="_blank" title="Click to share on Facebook"><span></span><span class="sharing-screen-reader-text">Click to share on Facebook (Opens in new window)</span></a></li>
                <li class="share-google-plus-1"><a rel="nofollow" data-shared="sharing-google-1144" class="share-google-plus-1 sd-button share-icon no-text" href="https://plus.google.com/share?url=https%3a%2f%2fsivalabs.github.io%2f2015%2f12%2fjcart-manage-roles%2f" target="_blank" title="Click to share on Google+"><span></span><span class="sharing-screen-reader-text">Click to share on Google+ (Opens in new window)</span></a></li>
                <li class="share-reddit"><a rel="nofollow" data-shared="" class="share-reddit sd-button share-icon no-text" href="http://www.reddit.com/submit?url=https%3a%2f%2fsivalabs.github.io%2f2015%2f12%2fjcart-manage-roles%2f&title=JCart%3a%20Manage%20Roles" target="_blank" title="Click to share on Reddit"><span></span><span class="sharing-screen-reader-text">Click to share on Reddit (Opens in new window)</span></a></li>
                <li class="share-linkedin"><a rel="nofollow" data-shared="sharing-linkedin-1144" class="share-linkedin sd-button share-icon no-text" href="http://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fsivalabs.github.io%2f2015%2f12%2fjcart-manage-roles%2f&title=JCart%3a%20Manage%20Roles" target="_blank" title="Click to share on LinkedIn"><span></span><span class="sharing-screen-reader-text">Click to share on LinkedIn (Opens in new window)</span></a></li>
                <li class="share-end"></li>
            </ul>
        </div>
    </div>
</div>

    </div>
</article>

<div class="comments">
	<div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "sivalabs" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>



<nav class="navigation post-navigation" role="navigation">
	<h2 class="screen-reader-text">Post navigation</h2>
	<div class="nav-links">
		<div class="nav-previous">
			<a href="/2015/12/jcart-manage-users/" rel="next">
				<i class="fa fa-chevron-left"></i>
				<span class="post-title">JCart: Manage Users</span>
			</a>
		</div>
		<div class="nav-next">
			<a href="/2015/12/jcart-manage-privileges/" rel="prev">
                <span class="post-title">JCart: Manage Privileges
                    <i class="fa fa-chevron-right"></i>
                </span>
			</a>
		</div>
	</div>
</nav>



                    </div>
                </div>
                <div id="secondary" class="widget-area col-sm-12 col-md-4" role="complementary">
                    <div class="well">

    <aside id="zoom-social-icons-widget-2" class="widget zoom-social-icons-widget">
    <h3 class="widget-title">Social Networks</h3>

    <ul class="zoom-social-icons-list zoom-social-icons-list--with-canvas zoom-social-icons-list--rounded zoom-social-icons-list--no-labels">

        
        <li class="zoom-social_icons-list__item">
            <a class="zoom-social_icons-list__link"
               href="https://github.com/sivaprasadreddy"
               target="_blank">
                    <span class="zoom-social_icons-list-span socicon socicon-github"
                          data-hover-rule="background-color" data-hover-color="#221e1b"
                          style="background-color : #221e1b; font-size: 18px; padding:8px"
                    ></span>
            </a>
        </li>
        

        
        <li class="zoom-social_icons-list__item">
            <a class="zoom-social_icons-list__link"
               href="https://twitter.com/sivalabs"
               target="_blank">
                    <span class="zoom-social_icons-list-span socicon socicon-twitter"
                          data-hover-rule="background-color" data-hover-color="#55acee"
                          style="background-color : #55acee; font-size: 18px; padding:8px"
                    ></span>
            </a>
        </li>
        

        
        <li class="zoom-social_icons-list__item">
            <a class="zoom-social_icons-list__link"
               href="https://facebook.com/sivaprasadreddy.k"
               target="_blank">
                    <span class="zoom-social_icons-list-span socicon socicon-facebook"
                          data-hover-rule="background-color" data-hover-color="#3b5998"
                          style="background-color : #3b5998; font-size: 18px; padding:8px"
                    ></span>
            </a>
        </li>
        

        
        <li class="zoom-social_icons-list__item">
            <a class="zoom-social_icons-list__link"
               href="https://plus.google.com/u/0/&#43;SivaPrasadReddy"
               target="_blank">
                    <span class="zoom-social_icons-list-span socicon socicon-google"
                          data-hover-rule="background-color" data-hover-color="#d93e2d"
                          style="background-color : #d93e2d; font-size: 18px; padding:8px"
                    ></span>
            </a>
        </li>
        

        
        <li class="zoom-social_icons-list__item">
            <a class="zoom-social_icons-list__link"
               href="https://in.linkedin.com/in/siva-prasad-reddy-k-3a909172"
               target="_blank">
                    <span class="zoom-social_icons-list-span socicon socicon-linkedin"
                          data-hover-rule="background-color" data-hover-color="#3371b7"
                          style="background-color : #3371b7; font-size: 18px; padding:8px"
                    ></span>
            </a>
        </li>

        

        
        <li class="zoom-social_icons-list__item">
            <a class="zoom-social_icons-list__link"
               href="http://www.youtube.com/c/SivaPrasadReddy%20"
               target="_blank">
                    <span class="zoom-social_icons-list-span socicon socicon-youtube"
                          data-hover-rule="background-color" data-hover-color="#e02a20"
                          style="background-color : #e02a20; font-size: 18px; padding:8px"
                    ></span>
            </a>
        </li>
        
    </ul>
</aside>


    <aside id="widget_sp_image-4" class="widget widget_sp_image">
        <h3 class="widget-title">My Recent Books</h3><a
            href="https://www.amazon.com/Beginning-Spring-Boot-Applications-Microservices/dp/1484229304"
            target="_blank" class="widget_sp_image-image-link" title="My Recent Books">
            <img
            width="2100" height="3000" alt="My Recent Books" class="attachment-full"
            style="max-width: 100%;"
            src="/images/ApressSpringBootBook.jpg"/></a>
    </aside>

    <aside id="recent-posts-2" class="widget widget_recent_entries">
        <h3 class="widget-title">Recent Posts</h3>
        <ul>
            <li class="widget__item"><a class="widget__link" href="/2017/11/my-review-of-vlad-mihalceas-high-performance-java-persistence-book/">My Review of Vlad Mihalcea’s High-Performance Java Persistence book</a></li>
            <li class="widget__item"><a class="widget__link" href="/2017/10/select-all-starters-on-spring-initializer-httpstart-spring-io/">Select ALL starters on Spring Initializer (http://start.spring.io)</a></li>
            <li class="widget__item"><a class="widget__link" href="/2017/08/spring-cloud-tutorials-auto-refresh-config-changes-using-spring-cloud-bus/">Spring Cloud Tutorials – Auto Refresh Config Changes using Spring Cloud Bus</a></li>
            <li class="widget__item"><a class="widget__link" href="/2017/08/spring-cloud-tutorials-introduction-to-spring-cloud-config-server/">Spring Cloud Tutorials – Introduction to Spring Cloud Config Server</a></li>
            <li class="widget__item"><a class="widget__link" href="/2016/09/getting-started-springboot-intellij-idea-community-edition/">Getting Started with SpringBoot in Intellij IDEA Community Edition</a></li>
            <li class="widget__item"><a class="widget__link" href="/2016/07/update-springboot-learn-example-book/">Update on SpringBoot : Learn By Example book</a></li>
            <li class="widget__item"><a class="widget__link" href="/2016/07/fix-vt-x-disabled-bios-error/">How to fix “vt-x is disabled in the bios” error?</a></li>
            <li class="widget__item"><a class="widget__link" href="/2016/07/my-new-book-springboot-learn-by-example/">My New Book SpringBoot : Learn By Example Published Today</a></li>
            <li class="widget__item"><a class="widget__link" href="/2016/06/my-review-of-sanjay-patels-spring-course/">My Review of Sanjay Patel’s Spring Course</a></li>
            <li class="widget__item"><a class="widget__link" href="/2016/04/creating-custom-springboot-starter-for/">Creating Custom SpringBoot Starter for Twitter4j</a></li>
        </ul>
    </aside>

    <aside id="tag_cloud-5" class="widget widget_tag_cloud">
        <h3 class="widget-title">Tags</h3>
        <div class="tagcloud">

                <div class="widget__content">
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/android" title="android">android</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/angularjs" title="angularjs">angularjs</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/best-practices" title="best-practices">best-practices</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/blogging" title="blogging">blogging</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/books" title="books">books</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/design-patterns" title="design-patterns">design-patterns</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/e-commerce" title="e-commerce">e-commerce</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/extjs" title="extjs">extjs</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/hibernate" title="hibernate">hibernate</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/ide" title="ide">ide</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/interviews" title="interviews">interviews</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/it" title="it">it</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/java" title="java">java</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/javaee" title="javaee">javaee</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/javamail" title="javamail">javamail</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/javascript" title="javascript">javascript</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/jboss" title="jboss">jboss</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/jcart" title="jcart">jcart</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/jooq" title="jooq">jooq</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/jpa" title="jpa">jpa</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/jsf" title="jsf">jsf</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/linux" title="linux">linux</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/maven" title="maven">maven</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/miscellaneous" title="miscellaneous">miscellaneous</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/mybatis" title="mybatis">mybatis</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/primefaces" title="primefaces">primefaces</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/quartz" title="quartz">quartz</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/rest" title="rest">rest</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/resteasy" title="resteasy">resteasy</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/servlets-jsp" title="servlets-jsp">servlets-jsp</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/spring" title="spring">spring</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/springboot" title="springboot">springboot</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/springcloud" title="springcloud">springcloud</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/springmvc" title="springmvc">springmvc</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/springsecurity" title="springsecurity">springsecurity</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/tips" title="tips">tips</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/tomcat" title="tomcat">tomcat</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/videos" title="videos">videos</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/virtualbox" title="virtualbox">virtualbox</a>
                    <a class="tag-cloud-link widget__link widget__link--taglist"
                       href="/tags/webservices" title="webservices">webservices</a>
                </div>

        </div>
    </aside>

    <aside class="widget widget_categories">
        <h3 class="widget-title">Categories</h3>
        <ul>
                    <li class="cat-item"><a href="/categories/best-practices">Best-Practices</a></li>
                    <li class="cat-item"><a href="/categories/books">Books</a></li>
                    <li class="cat-item"><a href="/categories/design-patterns">Design-Patterns</a></li>
                    <li class="cat-item"><a href="/categories/ide">Ide</a></li>
                    <li class="cat-item"><a href="/categories/java">Java</a></li>
                    <li class="cat-item"><a href="/categories/javaee">Javaee</a></li>
                    <li class="cat-item"><a href="/categories/javascript">Javascript</a></li>
                    <li class="cat-item"><a href="/categories/linux">Linux</a></li>
                    <li class="cat-item"><a href="/categories/misc">Misc</a></li>
                    <li class="cat-item"><a href="/categories/spring">Spring</a></li>
                    <li class="cat-item"><a href="/categories/tips">Tips</a></li>
                    <li class="cat-item"><a href="/categories/videos">Videos</a></li>
        </ul>
    </aside>
</div>

                </div>
            </div>
        </div>
    </div>
    <div id="footer-area">
        
<footer id="colophon" class="site-footer" role="contentinfo">
    <div class="site-info container">
        <div class="row">
            <nav role="navigation" class="col-md-3">
            </nav>
            <div class="copyright col-md-6">
                <a href="/" target="_blank">SivaLabs</a> Powered by <a
                    href="https://gohugo.io/" target="_blank">Hugo</a></div>
        </div>
    </div>
    <div class="scroll-to-top"><i class="fa fa-angle-up"></i></div>
</footer>

    </div>
</div>
</body>
</html>
